<template>
  <div>
    <marvel-header/>
    <nuxt />
    <div class="h-10 bg-gray-600 flex items-center justify-center text-white">
        <div v-html="attributionHTML"/>
    </div>
  </div>
</template>
<script>
import MarvelHeader from '@/components/Header'

export default {
    components: {
        MarvelHeader
    },
    data() {
        return{
            attributionHTML:""
        }
    },
    async mounted () {
        var md5 = require("md5"); 
        const privatekey = this.$config.privateKey;
        const publickey = this.$config.publicKey;
        const ts = new Date().valueOf();
        // validations for Marvel's API
        const hash = md5(ts + privatekey + publickey);

        try {
            this.attributionHTML = await this.$axios.$get(`https://gateway.marvel.com:443/v1/public/comics?ts=${ts}&apikey=${publickey}&hash=${hash}&limit=1`).then(res => res.attributionHTML);
        } catch(e) {
            console.log(e);
        }
        
    }
};

</script>

<style>
@import url(https://fonts.googleapis.com/css?family=Lato:300,400,700,900&display=swap);
html {
  font-family: "Lato", sans-serif !important;
  font-size: 16px;
  word-spacing: 1px;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  box-sizing: border-box;
}
/* container to place the main content of the site */
.container {
    @media screen and (max-width: 1024px) {
        padding: 0 1rem;
    }
    @apply mx-auto my-20
}
*,
*:before,
*:after {
  box-sizing: border-box;
  margin: 0;
}

.button--green {
  display: inline-block;
  border-radius: 4px;
  border: 1px solid #3b8070;
  color: #3b8070;
  text-decoration: none;
  padding: 10px 30px;
}

.button--green:hover {
  color: #fff;
  background-color: #3b8070;
}

.button--grey {
  display: inline-block;
  border-radius: 4px;
  border: 1px solid #35495e;
  color: #35495e;
  text-decoration: none;
  padding: 10px 30px;
  margin-left: 15px;
}

.button--grey:hover {
  color: #fff;
  background-color: #35495e;
}
</style>
